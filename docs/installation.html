

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; GWearCloud 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Verification" href="verification.html" />
    <link rel="prev" title="Welcome to GWearCloud’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GWearCloud
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-files">Download Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#s3-bucket-setup">S3 Bucket Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-bucket">Creating the Bucket</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-the-deployables">Adding the Deployables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cloudformation">CloudFormation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#outputs">Outputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#postgresql-setup">PostgreSQL Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-visualisation-grafana-setup">Data Visualisation (Grafana) Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#availability-zones-not-accessible">Availability zones not accessible</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="verification.html">Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Stack Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="android-api.html">Android API Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GWearCloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>The following installation guide is meant to install the full GWearCloud stack. The two main components of the GWear system, the REST API and the data visualisation, is set up on AWS using the following steps. Note that all resources can be set up with the AWS Free Tier.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>This user manual assumes the following:</p>
<ul class="simple">
<li><p>The implementer has a valid AWS account</p></li>
<li><p>The implementer has prior knowledge of Android app development</p></li>
</ul>
</div>
<div class="section" id="download-files">
<h2>Download Files<a class="headerlink" href="#download-files" title="Permalink to this headline">¶</a></h2>
<p>The following files should be downloaded from <a class="reference external" href="https://github.com/gwulilab/GWearCloud/releases">https://github.com/gwulilab/GWearCloud/releases</a>.</p>
<ul class="simple">
<li><p>GWearCloud-GET.zip</p></li>
<li><p>GWearCloud-POST.zip</p></li>
<li><p>GWearCloud-RDS-Setup.zip</p></li>
<li><p>GWearCF.json</p></li>
</ul>
</div>
<div class="section" id="s3-bucket-setup">
<h2>S3 Bucket Setup<a class="headerlink" href="#s3-bucket-setup" title="Permalink to this headline">¶</a></h2>
<p>For the CloudFormation template to work, there needs to be a valid S3 bucket to pull the Lambda deployment package from. If you are deploying your system on us-east-1 (N. Virginia), then the template already is linking to a valid S3 bucket. If you are deploying to any other region, the following instructions can be used to set up the bucket.</p>
<div class="section" id="creating-the-bucket">
<h3>Creating the Bucket<a class="headerlink" href="#creating-the-bucket" title="Permalink to this headline">¶</a></h3>
<p>Navigate to Amazon S3 and click “Create bucket”: <a class="reference external" href="https://s3.console.aws.amazon.com/s3">https://s3.console.aws.amazon.com/s3</a></p>
<p>Type in a bucket name and remember it for the next step. Choose the same region as the one you will be deploying GWearCloud. Then click “Next”.</p>
<p>Leave all “Configure options” settings default. Click “Next”.</p>
<p>Uncheck “Block all public access”. Click “Next”.</p>
<p>Review all of your settings and click “Create bucket”.</p>
</div>
<div class="section" id="adding-the-deployables">
<h3>Adding the Deployables<a class="headerlink" href="#adding-the-deployables" title="Permalink to this headline">¶</a></h3>
<p>Click “Upload”.</p>
<p>In the next window, add all zip files to the upload. Then click “Next” (do NOT click “Upload”).</p>
<p>Under “Manage public permissions” select “Grant public read access to this object(s)”. Click “Upload”.</p>
<p>If everything was done correctly, you should see a screen similar to below.</p>
<img alt="_images/s3-complete.png" src="_images/s3-complete.png" />
</div>
</div>
<div class="section" id="cloudformation">
<h2>CloudFormation<a class="headerlink" href="#cloudformation" title="Permalink to this headline">¶</a></h2>
<p>Navigate to <a class="reference external" href="https://console.aws.amazon.com/cloudformation/">https://console.aws.amazon.com/cloudformation/</a> to access the CloudFormation console.</p>
<p>Click on “Create stack”.</p>
<p>Select “Template is ready”.</p>
<p>Under “Specify template”, choose “Upload a template file” and browse for the GWearCF.json template file. Then click “Next”.</p>
<img alt="_images/cf-1.png" src="_images/cf-1.png" />
<p>Enter your desired stack name for your REST API under “Stack name” (such as “gwearcloud”). Then fill out the parameters for your stack. The most important to fill out is the “S3BucketNameParam” if you had to create a new bucket for your region. Then click “Next”.</p>
<p>Edit the stack settings as desired. Then click “Next”. The default settings are fine for most cases.</p>
<p>The final window summarises the stack you are about to create. If you are satisfied with every setting, check that you “acknowledge that AWS CloudFormation might create IAM resources”, then click “Create stack”.</p>
<img alt="_images/cf-2.png" src="_images/cf-2.png" />
<p>The average spin up time should be between 10-20 minutes (depending on customisations, internet speeds, etc). The system is done generating when the stack status is changed to “Create_Complete”.</p>
<div class="section" id="outputs">
<h3>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h3>
<p>The following outputs will be found in the “Outputs” tab:</p>
<ol class="arabic simple">
<li><p>grafanaUrl - The URl to use for navigating to the data visualisation website</p></li>
<li><p>postgreslUrl - The URL to use to connect Grafana to the cloud database</p></li>
<li><p>restApiUrl - The URL to use when interfacing between an IoT gateway device and the GWearCloud system</p></li>
</ol>
</div>
</div>
<div class="section" id="postgresql-setup">
<h2>PostgreSQL Setup<a class="headerlink" href="#postgresql-setup" title="Permalink to this headline">¶</a></h2>
<p>Currently, the generated database instance does not automatically create a database table or schema. CloudFormation will create a Lambda function called “RDS-Setup” that can be invoked to create the database table. The following steps should be taken to do that:</p>
<ol class="arabic simple">
<li><p>Navigate to <a class="reference external" href="https://console.aws.amazon.com/lambda">https://console.aws.amazon.com/lambda</a></p></li>
<li><p>Click the function that includes “RdsSetup” in the name</p></li>
<li><p>Click “Test”</p></li>
<li><p>The default test setup is fine. Give it an event name (such as “test”) and click “Create”</p></li>
<li><p>Click “Test”</p></li>
</ol>
<p>If you see “Execution result: succeeded”, then your database is now fully functional for the GWearCloud system.</p>
</div>
<div class="section" id="data-visualisation-grafana-setup">
<h2>Data Visualisation (Grafana) Setup<a class="headerlink" href="#data-visualisation-grafana-setup" title="Permalink to this headline">¶</a></h2>
<p>The CloudFormation template will automatically create a Grafana web app instance. However, Grafana will still need to be configured from its web interface.</p>
<p>Instructions on gettings started with Grafana can be found at <a class="reference external" href="https://grafana.com/docs/guides/getting_started/">https://grafana.com/docs/guides/getting_started/</a></p>
<p>Instructions for connecting your PostgreSQL database to Grafana can be found at <a class="reference external" href="https://grafana.com/docs/features/datasources/postgres/">https://grafana.com/docs/features/datasources/postgres/</a></p>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>The following are possible issues that can arise.</p>
<div class="section" id="availability-zones-not-accessible">
<h3>Availability zones not accessible<a class="headerlink" href="#availability-zones-not-accessible" title="Permalink to this headline">¶</a></h3>
<p>The current CloudFormation template is only able to be deployed in regions that have 3 or more EC2 availability zones. To find out if your region is compatible, look at <a class="reference external" href="https://aws.amazon.com/about-aws/global-infrastructure/regions_az/">https://aws.amazon.com/about-aws/global-infrastructure/regions_az/</a></p>
<p>If you region does not have at least 3 availability zones, you should install in a different region that is compatible.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="verification.html" class="btn btn-neutral float-right" title="Verification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to GWearCloud’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, GWU Li Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>